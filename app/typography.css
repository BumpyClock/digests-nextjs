/* Custom Typography Styles with Dark Mode Support */

/* Base prose styles */
.prose {
  --tw-prose-body: hsl(var(--text-color-primary));
  --tw-prose-headings: hsl(var(--text-color-primary));
  --tw-prose-lead: hsl(var(--text-color-primary));
  --tw-prose-links: hsl(var(--text-color-link));
  --tw-prose-bold: hsl(var(--text-color-primary));
  --tw-prose-counters: hsl(var(--text-color-secondary));
  --tw-prose-bullets: hsl(var(--text-color-secondary));
  --tw-prose-hr: hsl(var(--border));
  --tw-prose-quotes: hsl(var(--text-color-primary));
  --tw-prose-quote-borders: hsl(var(--border));
  --tw-prose-captions: hsl(var(--text-color-secondary));
  --tw-prose-code: hsl(var(--text-color-primary));
  --tw-prose-pre-code: hsl(var(--secondary-foreground));
  --tw-prose-pre-bg: hsl(var(--secondary));
  --tw-prose-th-borders: hsl(var(--border));
  --tw-prose-td-borders: hsl(var(--border));
  font-size: var(--typography-body-size, var(--font-size-base, var(--text-base, 1rem)));
  line-height: var(--typography-body-line-height, var(--line-height-relaxed, 1.75));
  letter-spacing: var(--typography-body-letter-spacing, var(--letter-spacing-normal, 0em));
  font-weight: var(--typography-body-weight, var(--font-weight-regular, 400));
}

/* Dark mode prose overrides - applied when using data-theme with dark variants */
html[data-theme="dark"] .prose,
html[data-theme="flexoki-dark"] .prose,
html[data-theme="standard-dark"] .prose,
html[data-theme="dracula-dark"] .prose {
  --tw-prose-body: hsl(var(--text-color-primary));
  --tw-prose-headings: hsl(var(--text-color-primary));
  --tw-prose-lead: hsl(var(--text-color-primary));
  --tw-prose-links: hsl(var(--text-color-link));
  --tw-prose-bold: hsl(var(--text-color-primary));
  --tw-prose-counters: hsl(var(--text-color-secondary));
  --tw-prose-bullets: hsl(var(--text-color-secondary));
  --tw-prose-hr: hsl(var(--border));
  --tw-prose-quotes: hsl(var(--text-color-primary));
  --tw-prose-quote-borders: hsl(var(--accent));
  --tw-prose-captions: hsl(var(--text-color-secondary));
  --tw-prose-code: hsl(var(--text-color-primary));
  --tw-prose-pre-code: hsl(var(--secondary-foreground));
  --tw-prose-pre-bg: hsl(var(--secondary));
  --tw-prose-th-borders: hsl(var(--border));
  --tw-prose-td-borders: hsl(var(--border));
}

/* Explicit styles for headings */
.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  color: hsl(var(--text-color-primary));
  font-size: var(--typography-title-size, var(--font-size-lg, 1.125rem));
  font-weight: var(--typography-title-weight, 600);
  line-height: var(--typography-title-line-height, 1.25);
  letter-spacing: var(--typography-title-letter-spacing, -0.01em);
}

/* Strong emphasis */
.prose strong {
  color: hsl(var(--text-color-primary));
  font-weight: var(--font-weight-semibold, 600);
}

/* Quotes */
.prose blockquote {
  color: hsl(var(--text-color-primary));
  border-left-color: hsl(var(--text-color-link));
  background-color: hsl(var(--blockquote-background-color));
  font-style: italic;
}

/* Links */
.prose a {
  color: hsl(var(--text-color-link));
  text-decoration: underline;
  font-weight: var(--font-weight-medium, 500);
}

.prose a:hover {
  text-decoration: none;
}

/* Code blocks */
.prose pre {
  background-color: hsl(var(--secondary));
  color: hsl(var(--secondary-foreground));
  border-radius: var(--radius);
}

.prose code {
  color: hsl(var(--text-color-primary));
  background-color: hsl(var(--muted));
  padding: 0.2em 0.4em;
  border-radius: var(--radius-md, var(--radius));
  font-size: 0.875em;
  font-family: var(--typography-code-family, var(--font-family-mono));
}

/* Tables */
.prose table {
  width: 100%;
  border-collapse: collapse;
}

.prose thead {
  background-color: hsl(var(--muted));
}

.prose thead th {
  color: hsl(var(--text-color-primary));
}

.prose tbody tr {
  border-bottom-width: 1px;
  border-bottom-color: hsl(var(--border));
}

/* Custom prose size variants */
.prose-sm {
  font-size: var(--typography-body-small-size, var(--font-size-sm, 0.875rem));
  line-height: var(--typography-body-small-line-height, var(--line-height-normal, 1.5));
  font-weight: var(--typography-body-small-weight, var(--font-weight-regular, 400));
}

.prose-lg {
  font-size: var(--typography-body-large-size, var(--font-size-lg, 1.125rem));
  line-height: var(--typography-body-large-line-height, var(--line-height-relaxed, 1.75));
  font-weight: var(--typography-body-large-weight, var(--font-weight-regular, 400));
}

.prose-xl {
  font-size: var(--typography-title-size, var(--font-size-lg, 1.125rem));
  line-height: var(--typography-title-line-height, var(--line-height-tight, 1.25));
  font-weight: var(--typography-title-weight, var(--font-weight-semibold, 600));
}
